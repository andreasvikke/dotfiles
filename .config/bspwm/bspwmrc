#!/bin/bash

SSH_AUTH_SOCK=/run/user/1000/keyring/ssh

# Set desktops in bspwmrd based on connected montiors
if xrandr | grep "DP-3 connected"; then
    bspc wm -O DP-3 eDP-1
    bspc monitor DP-3 -d 1 2 3 4 5
    bspc monitor eDP-1 -d 6 7 8 9 0
else
    bspc wm -O eDP-1
    bspc monitor eDP-1 -d 1 2 3 4 5 6 7 8 9 0
fi

# Launch Polybar
bash ~/.config/polybar/colorblocks/launch.sh
picom -b
 
xsetroot -cursor_name left_ptr
sxhkd &
 
bspc config border_width	2
bspc config window_gap		20
bspc config border_radius   15

bspc config split_ratio		0.62
bspc config focus_follows_pointer	true
bspc config pointer_modifier	mod1
 
bspc config automatic_scheme	spiral

bspc config normal_border_color "#44475a"
bspc config active_border_color "#bd93f9"
bspc config focused_border_color "#ff79c6"
bspc config presel_feedback_color "#6272a4"

# Set Background
feh --bg-fill ~/Pictures/Wallpapers/wallpaper.jpeg

# Dekstop Rules
bspc rule -a notion-snap desktop=3
bspc rule -a Slack desktop=5
bspc rule -a kitty desktop=4
bspc rule -a Code desktop=^1

# Start autostart script
bash ~/.config/bspwm/autostart
